(function(g){var window=this;var x3=function(a){g.U.call(this,{C:"button",W:["ytp-offline-slate-button","ytp-button"],J:[{C:"div",H:"ytp-offline-slate-button-icon",V:"{{icon}}"},{C:"div",H:"ytp-offline-slate-button-text",V:"{{text}}"}]});this.A=a;this.o=this.l=null;this.hide();this.da("click",this.B,this)},z3=function(a,b){!a.l&&b&&b.toggleButtonRenderer?a.l=b.toggleButtonRenderer:b&&b.toggleButtonRenderer||(a.l=null);
y3(a)},y3=function(a){if(a.l){if(a.l.isToggled){var b=a.l.toggledText?g.RA(a.l.toggledText):"";
a.update({text:b,icon:A3(a.l.toggledIcon)})}else b=a.l.defaultText?g.RA(a.l.defaultText):"",a.update({text:b,icon:A3(a.l.defaultIcon)});a.show()}else a.hide()},A3=function(a){if(!a)return null;
switch(a.iconType){case "NOTIFICATIONS_NONE":return g.FO?{C:"div",W:["ytp-icon","ytp-icon-notifications-none"]}:{C:"svg",M:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},J:[{C:"path",M:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]};case "NOTIFICATIONS_ACTIVE":return g.UO();default:return null}},B3=function(a){g.U.call(this,
{C:"div",
H:"ytp-offline-slate",J:[{C:"div",H:"ytp-offline-slate-bar",J:[{C:"span",H:"ytp-offline-slate-icon",J:[g.FO?{C:"div",W:["ytp-icon","ytp-icon-live-icon"]}:{C:"svg",M:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},J:[{C:"path",M:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{C:"circle",M:{cx:"12",cy:"12",r:"3"}}]}]},{C:"span",H:"ytp-offline-slate-buttons"},{C:"span",H:"ytp-offline-slate-messages",J:[{C:"div",H:"ytp-offline-slate-main-text",V:"{{maintext}}"},{C:"div",H:"ytp-offline-slate-subtitle-text",V:"{{subtitletext}}"}]}]},{C:"div",H:"ytp-offline-slate-final-day",J:[{C:"div",H:"ytp-offline-slate-final-day-line-1",V:"Dawn of"},{C:"div",H:"ytp-offline-slate-final-day-line-2",V:"The Final Day"},{C:"div",H:"ytp-offline-slate-final-day-line-3",V:"-24 Hours Remain-"}]}]});
this.o=a;this.u=this.l=null;this.D=!1;this.A=new g.L(this.F,1E3,this);this.K(a,"presentingplayerstatechange",this.G);this.K(a,"livestatedata",this.B);this.hide();a=this.o.getVideoData();a.getPlayerResponse()&&(a=a.getPlayerResponse().playabilityStatus)&&this.B(a)},C3=function(a,b,c){if(b){var d=void 0!=b.subtitleText?g.RA(b.subtitleText):"";
b=c?c:void 0!=b.mainText?g.RA(b.mainText):"";a.update({maintext:b,subtitletext:d});g.K(a.element,"ytp-offline-slate-single-text-line",!d)}},G3=function(a){g.fK.call(this,a);
this.D=!1;this.F=0;this.B=!1;this.g=NaN;this.l=this.o=null;this.A=!1;this.G=new g.So(1E3,6E4,1);this.I=0;this.u=null;this.O=-(new g.Vn).getTimezoneOffset();this.ba=new g.Wr(this);g.H(this,this.ba);var b=this.player.getVideoData(),c=g.W(this.player);if(!b.sa)!g.R(c.experiments,"html5_release_post_live_heartbeat_killswitch")&&g.fb(b.oc,"heartbeat")&&g.RJ(this.player,"heartbeat");else if(!g.Gx())g.oI(this.player.app.o,"html5.unsupportedlive","HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");else if(g.R(c.experiments,
"live_fresca_v2")){this.D=this.A=!0;if(!g.Py(c)||g.Zy(c))this.u=new B3(this.player),g.H(this,this.u),g.UJ(this.player,this.u.element,4);(b=b.getPlayerResponse())&&b.playabilityStatus&&(this.l=b.playabilityStatus);this.l?(b=D3(this.l.liveStreamability&&this.l.liveStreamability.liveStreamabilityRenderer))?E3(this,b):E3(this,7500):E3(this,1E3)}this.ba.K(a,"heartbeatparams",this.YE);this.ba.K(a,"presentingplayerstatechange",this.ZE);this.ba.K(a,"videoplayerreset",this.sM);this.ba.K(a,g.CD("heartbeat"),
this.XE);this.A&&this.l&&F3(this,this.l);b=new g.zD(1E3,0x7ffffffffffff,{priority:0,namespace:"heartbeat"});g.MJ(a,[b])},H3=function(a){var b=a.player.getVideoData();
return!!g.oB(a.player.getVideoData())&&!b.zq},I3=function(a){var b=a.player.getVideoData();
return H3(a)?!!a.o:!!b.heartbeatToken},E3=function(a,b){if(!a.g&&a.D){var c=a.player.getVideoData();
if(I3(a)||c.sa)void 0==b&&(b=a.B?a.A?7500:a.o?1E3*a.o.interval:a.player.getVideoData().Iw||6E4:1E3),a.g=g.$p((0,g.y)(a.fN,a),b)}},F3=function(a,b){var c=b.liveStreamability&&b.liveStreamability.liveStreamabilityRenderer,d=!(!c||!c.switchStreamsImmediately),e=D3(c),f=a.player.getVideoData();
if(g.SC(g.CJ(a.player))&&!g.zB(f)&&!a.player.isPeggedToLive()&&!d)return e;var k=(d=c&&c.streamTransitionEndpoint&&c.streamTransitionEndpoint.watchEndpoint)&&d.videoId;if(k)return g.sX(a.player.app,k,void 0,void 0,!0,!0,d),e;if("OK"==b.status.toUpperCase()){if(!f.hlsvp&&!f.Md||a.l&&c&&c.broadcastId!=a.l.liveStreamability.liveStreamabilityRenderer.broadcastId)return c={video_id:f.videoId},f.Sj&&(c.is_live_destination="1"),c.autonav_state=f.autonavState,a.player.qk(c),e;g.RJ(a.player,"heartbeat")}c&&
c.displayEndscreen&&a.u&&(f=a.u,f.D=!0,f.Ha()&&g.GJ(f.o));return e},D3=function(a){var b=0;
a&&a.pollDelayMs&&(a=parseInt(a.pollDelayMs,10))&&(b=a);return b},J3=function(a,b,c){if(a.g){a.g=NaN;
a.F++;var d=a.player.getVideoData();(d.Kw||b&&!g.oB(a.player.getVideoData())&&!I3(a)&&d.sa?0:a.F>=(a.o?a.o.g:d.Jw||5))?(b=b?"heartbeat.net":"heartbeat.servererror",(d=a.player.getVideoData())&&d.sa?g.oI(a.player.app.o,b,"Reprodu\u00e7\u00e3o de v\u00eddeo interrompida. Tente novamente.",c):g.oI(a.player.app.o,b,"Ocorreu um erro ao licenciar este v\u00eddeo.",c)):(E3(a,a.G.getValue()),g.To(a.G))}},K3=function(a){a.F=0;
a.g&&(g.bq(a.g),a.g=NaN);a.B=!1;a.I=0},L3=function(a){try{var b=g.Jo(a);
return null!=b?b:null}catch(c){return null}};
g.r(x3,g.U);
x3.prototype.B=function(){this.o||(this.o=new g.Ks(g.W(this.A).Kb));var a={context:g.os(this.o.g)};g.gt()&&(a.context.clientScreenNonce=g.gt());if(this.l.isToggled){a.params=this.l.toggledServiceEndpoint.removeUpcomingEventReminderEndpoint.params;var b="notification/remove_upcoming_event_reminder"}else a.params=this.l.defaultServiceEndpoint.addUpcomingEventReminderEndpoint.params,b="notification/add_upcoming_event_reminder";var c={timeout:5E3};c.onError=(0,g.y)(this.u,this);c.td=(0,g.y)(this.u,this);
g.ts(this.o,b,a,c);this.l.isToggled=!this.l.isToggled;y3(this)};
x3.prototype.u=function(){this.l&&(this.l.isToggled=!this.l.isToggled,y3(this))};g.r(B3,g.U);
B3.prototype.B=function(a){var b=a&&a.liveStreamability&&a.liveStreamability.liveStreamabilityRenderer.offlineSlate;if(b){this.l=a;b.liveStreamOfflineSlateRenderer.canShowCountdown?this.F():C3(this,b.liveStreamOfflineSlateRenderer);var c=this.element;if(b&&b.liveStreamOfflineSlateRenderer&&b.liveStreamOfflineSlateRenderer.scheduledStartTime){var d=b.liveStreamOfflineSlateRenderer.scheduledStartTime-(0,g.C)()/1E3;d=86400>=d&&86340<d}else d=!1;g.K(c,"ytp-offline-slate-show-final-day",d);if(c=a&&a.liveStreamability&&
a.liveStreamability.liveStreamabilityRenderer&&a.liveStreamability.liveStreamabilityRenderer.offlineSlate&&a.liveStreamability.liveStreamabilityRenderer.offlineSlate.liveStreamOfflineSlateRenderer&&a.liveStreamability.liveStreamabilityRenderer.offlineSlate.liveStreamOfflineSlateRenderer.thumbnail){d=0;for(var e=null,f=0;f<c.thumbnails.length;f++)c.thumbnails[f].width>d&&(d=c.thumbnails[f].width,e=c.thumbnails[f].url);e&&(this.element.style.backgroundImage="url("+e+")")}else this.element.style.backgroundImage=
"";b.liveStreamOfflineSlateRenderer.actionButtons?(this.u||(this.u=new x3(this.o),this.u.Y(this.g["ytp-offline-slate-buttons"]),g.H(this,this.u)),z3(this.u,b.liveStreamOfflineSlateRenderer.actionButtons[0])):this.u&&z3(this.u,null);this.l=a}else this.l=null;this.G()};
B3.prototype.G=function(){var a=g.CJ(this.o),b=this.o.getVideoData(),c=b.sa&&(g.VC(a)||g.V(a,2)||g.V(a,64)),d=2==b.autonavState&&g.V(a,2);a=g.SC(a)&&!g.zB(b)&&!this.o.isPeggedToLive(!0);c&&!a&&!d&&this.l&&"LIVE_STREAM_OFFLINE"==this.l.status.toUpperCase()?this.Ha()||(this.show(),this.o.N("offlineslatestatechange"),this.D&&g.GJ(this.o)):this.Ha()&&(this.hide(),this.o.N("offlineslatestatechange"))};
B3.prototype.F=function(){var a=this.l&&this.l.liveStreamability&&this.l.liveStreamability.liveStreamabilityRenderer&&this.l.liveStreamability.liveStreamabilityRenderer.offlineSlate&&this.l.liveStreamability.liveStreamabilityRenderer.offlineSlate.liveStreamOfflineSlateRenderer;if(a){var b=Math.floor((0,g.C)()/1E3),c=a.canShowCountdown&&parseInt(a.scheduledStartTime,10);!c||c<=b?(C3(this,a),this.A.stop()):(b=g.DP(c-b),C3(this,a,b),g.yo(this.A))}};
B3.prototype.U=function(){this.A.dispose();this.A=null;g.U.prototype.U.call(this)};g.r(G3,g.fK);g.h=G3.prototype;g.h.U=function(){K3(this);g.QJ(this.player,"heartbeat");g.fK.prototype.U.call(this)};
g.h.XE=function(){this.D=!0;E3(this,2E3)};
g.h.YE=function(a){this.o=a;E3(this,2E3)};
g.h.ZE=function(a){g.V(a.state,2)||g.V(a.state,64)?(K3(this),this.A&&(this.D=!0,E3(this,1E3))):(g.V(a.state,1)||g.V(a.state,8))&&E3(this,2E3)};
g.h.sM=function(){3!==this.player.Aa()&&E3(this,2E3)};
g.h.fN=function(){var a=g.W(this.player),b=this.player.getVideoData();var c=a.B;if(3==this.player.Aa())this.g=NaN;else if(g.V(g.CJ(this.player),4))this.g=NaN;else if(I3(this)||b.sa){if(!H3(this)||b.sa){var d="GET";var e=a.o;a={video_id:b.videoId,heartbeat_token:b.heartbeatToken,c:e.c,cver:e.cver,cbrand:e.cbrand,cmodel:e.cmodel,vvt:b.mf,mdx_environment:b.mdxEnvironment,access_token:b.oauthToken,forced_experiments:a.xa,utc_offset_minutes:this.O,upg_content_filter_mode:b.oo,sequence_number:this.I};void 0!=
b.Qj&&(a.is_home_group=b.Qj?"1":"0");void 0!=b.homeGroupInfo&&(a.home_group_info=b.homeGroupInfo);(e="undefined"!=typeof Intl?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)&&(a.time_zone=e);(e=g.kB(b))&&(a.uloc=e);(e=this.player.getProgressState().ingestionTime)&&isFinite(e)&&(a.ingestion_time=e);c=g.Dh(c+"heartbeat",a)}else d="GET",c=g.Dh(this.o.url,{request_id:g.bt()}),b.mf&&(c=g.Dh(c,{vvt:b.mf}),b.mdxEnvironment&&(c=g.Dh(c,{mdx_environment:b.mdxEnvironment}))),b.oauthToken&&(c=g.Dh(c,
{access_token:b.oauthToken}));b.Pj&&(c=g.Dh(c,{internalipoverride:b.Pj}));c=g.Dh(c,{cpn:b.clientPlaybackNonce});g.Nq(c,{format:"RAW",method:d,timeout:3E4,onSuccess:(0,g.y)(this.kE,this),onError:(0,g.y)(this.jE,this),td:(0,g.y)(this.lE,this),withCredentials:!0})}else K3(this)};
g.h.kE=function(a){if(this.g){this.G.reset();this.I++;a=a.responseText;var b=L3(a);if(b){this.player.na("onHeartbeat",b);var c="ok"==b.status?b.stop_heartbeat?2:0:"stop"==b.status?1:"live_stream_offline"==b.status?0:-1}else c=(c=a.match(M3))?"0"==c[1]?0:1:-1;if(-1==c)b="decode",window.btoa&&(b+=" "+window.btoa(a)),J3(this,!1,b);else if(2!=c||I3(this))if(this.F=0,this.g=NaN,1==c){this.B=!1;b=this.player;c="LICENSE";var d=L3(a);d?a=d.reason||g.FI[c]||"":((a=a.match(M3))&&(a=parseInt(a[1],10))&&(c=g.xC(a)),
a=g.FI[c]||"");g.oI(b.app.o,"heartbeat.stop",a,void 0)}else this.B=!0,a=0,this.A&&b&&(a=F3(this,b),this.player.N("livestatedata",b)),a?E3(this,a):E3(this);else K3(this),this.B=!0}};
g.h.jE=function(a){J3(this,!0,"net-"+a.status)};
g.h.lE=function(){J3(this,!0,"timeout")};
g.h.Uj=function(){return!!this.u&&this.u.Ha()};
var M3=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.hU.heartbeat=G3;})(_yt_player);
